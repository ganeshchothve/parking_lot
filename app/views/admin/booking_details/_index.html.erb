<table class='table my-customer-table responsive-tbl caption-top rounded mt-3 mb-0'>
  <thead class="th-default">
    <tr class="bg-gradient-cd white">
      <th><%= t('mongoid.attributes.booking_detail.name') %></th>
      <th><%= t('mongoid.attributes.booking_detail.bedrooms') %> / <%= t('mongoid.attributes.booking_detail.bathrooms') %></th>
      <th><%= t('mongoid.attributes.booking_detail.status') %></th>
      <th><%= t('mongoid.attributes.booking_detail.agreement_price') %></th>
      <th><%= t('mongoid.attributes.booking_detail.registration_done') %></th>
      <th class="text-right"> <%= t('global.action', count: 3) %></th>
    </tr>
  </thead>
  <tbody>
    <% booking_details.each do |booking_detail| %>
      <tr>
        <td data-title= <%= t('mongoid.attributes.booking_detail.name') %> >
          <%= link_to booking_detail.name, [current_user_role_group, booking_detail], class: "primary"  %>
          <div class="small mt-1">
            <span class="title"><%= Project.model_name.human %> :</span>
            <%= booking_detail.project.name %>
          </div>
          <div class="small mt-1">
            <span class="title"><%= ProjectTower.model_name.human %> :</span>
            <%= booking_detail.project_unit.project_tower_name %>
          </div>
          <% if %w[ hold swapped cancelled ].exclude?(booking_detail.status)  %>
            <div class="small mt-1">
            <span class="title"><%= ProjectUnit.human_attribute_name('blocked_on') %> :</span>
              <%= booking_detail.project_unit.blocked_on.try(:strftime, '%d/%m/%Y') %>
            </div>
          <% end %>
        </td>

        <td data-title= <%= "#{t('mongoid.attributes.booking_detail.bedrooms')}/#{t('mongoid.attributes.booking_detail.bathrooms')}" %> >
          <span class="col-title"><%= booking_detail.bedrooms %> / <%= booking_detail.bathrooms %></span></td>

        <td data-title=<%= t('mongoid.attributes.booking_detail.status') %> >
          <span class="col-title"><i class="fa fa-circle success me-2 fa-xs"></i><%= BookingDetail.human_attribute_name("status.#{booking_detail.status}") %></span></td>

        <td data-title="<%= t('mongoid.attributes.booking_detail.agreement_price') %>" >
          <span class="col-title">
          <%= number_to_indian_currency(booking_detail.calculate_agreement_price.round) %>
        </span>
          <div class="small row">
            <div class="col-6">
            <%= t('mongoid.attributes.booking_detail.all_inclusive_price') %> :
          </div>
          <div class="col-6">
            <%= number_to_indian_currency(booking_detail.calculate_all_inclusive_price.round) %>
          </div>
          </div>
            <div class="small row">
              <div class="col-6">
            <%= t('mongoid.attributes.booking_detail.paid_amount') %> :
            </div>
          <div class="col-6">
            <%= number_to_indian_currency(booking_detail.total_amount_paid) %>
          </div>
          </div>

          <div class="small row">
            <div class="col-6">
            <%= t('mongoid.attributes.booking_detail.booking_pending_amount') %> :
            </div>
          <div class="col-6">
            <%= number_to_indian_currency(booking_detail.pending_balance.to_i) %>
          </div>
          </div>

        </td>

        <td data-title=<%= t('mongoid.attributes.booking_detail.registration_done') %> >
          <span class="col-title">
          <%= booking_detail.is_registration_done? ? 'Yes' : 'No' %></span>
        </td>

        <td>
          <div class="dropdown show text-right">
            <a class="btn table-dropdown-btn black-clr" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-ellipsis-v" aria-hidden="true"></i></a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
              <%= render "#{current_user_role_group}/booking_details/links", booking_detail: booking_detail, link_name: '' %>
            </div>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<div class="col-lg-12 py-3 white mb-2 px-2">
  <div class="row">
    <div class="col-lg-6">
      <p class="table-entry">Showing 1 - 5 of <%= @booking_details.total_entries %> items</p>
    </div>
    <div class="col-lg-6 table-pagination">
      <%= will_paginate booking_details, list_classes: %w(pagination justify-content-end) %>
    </div>
  </div>
</div>
