<div class="modal fade right fixed-header-footer" role="dialog" id="modal-remote-form-inner">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header bg-gradient-cd white">
        <h3 class="title"> <%= t('cntroller.receipts.lost_receipt.header') %> </h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" class="white">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <%= form_for [:admin, @booking_detail, @receipt], local: true, remote: true, html: {id: 'receipt_form', class: 'modal-remote-form validate-form', data: { "resource-type": t('global.receipt'), type: :json} } do |f| %>
            <div class="form-group">
              <%= f.label :payment_mode, class: 'label-required' %>
                <%= f.select :payment_mode, ['online'], {prompt: true, selected: @receipt.payment_mode}, class: 'selectize', required: 'required', autofocus: true, disabled: !policy([:admin, @receipt]).editable_field?("payment_mode") %>
            </div>
            <div class="form-group">
              <%= f.label :payment_identifier, class: 'label-required' %>
              <%= f.text_field :payment_identifier, class: 'form-control', required: 'required', disabled: !policy([:admin, @receipt]).editable_field?("payment_identifier") %>
            </div>
            <div class="form-group">
              <%= f.label :account, class: 'label-required' %>

                <%= f.select :account_number ,Account.all.collect{|x| [ x.account_number, x.id]} , {prompt: true}, class: 'selectize', required: 'required', autofocus: true %>
            </div>
            <div class="form-group">
              <%= f.label :total_amount, class: 'label-required' %>
              <% if !policy([:admin, @receipt]).editable_field?("total_amount") %>
                <% total_amount = @receipt.total_amount if @receipt.total_amount.present? %>
                <h5><%= number_to_indian_currency(total_amount) %></h5>
                <%= f.hidden_field :total_amount, value: total_amount %>
              <% else %>
                <%= f.number_field :total_amount, min: 0, class: "form-field form-control green", required: 'required' %>
              <% end %>
            </div>
            <div class="form-group">
              <%= f.label :status, class: 'control-label' %>
              <%= f.select :event, options_for_select([[ t('receipts.status.pending'), 'pending' ]], @receipt.status), {prompt: true}, class: 'selectize', required: 'required', disabled: !policy([:admin, @receipt]).editable_field?("event") %>
            </div>
            <div class="form-group">
              <%= f.submit class: 'btn btn-primary' %>
            </div>
          <% end %>
      </div>
    </div>
  </div>
</div>
<%= javascript_tag do %>
  $(document).ready(function(){
    $('#receipt_form [name="agree"]').change(function(){
      if($(this).is(":checked")){
        $('#receipt_form [type="submit"]').removeAttr("disabled");
      }else{
        $('#receipt_form [type="submit"]').attr("disabled", "disabled");
      }
    });
    FormInitializer.init($('#receipt_form'));
  });
<% end %>
