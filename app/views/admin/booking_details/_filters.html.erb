<div class="card h-100">
  <div class="card-body">
    <%= form_tag admin_booking_details_path, method: "get", id: "scheme_search_form" do %>
      <div class="form-group">
        <%= label_tag "", 'Filters', class: "control-label d-block d-lg-inline" %>
        <%= submit_tag :Apply, class: "btn btn-primary btn-sm float-lg-right" %>
      </div>
      <div class="clearfix"></div>
      <hr/>

      <div class="form-group">
        <%= label_tag "fltrs", "Name", class: "control-label" %>
        <%= select_tag "fltrs[id]", options_for_select(filter_booking_detail_options), {class: "selectize-remote", data: {url: admin_booking_details_path }} %>
      </div>

      <div class="form-group">
        <%= label_tag "fltrs", "status", class: "control-label" %>
        <%= select_tag "fltrs[status]", options_for_select(BookingDetail.aasm.states.collect(&:name).collect{|x| [ t("booking_details.status.#{x}"), x.to_s]}, (params.dig(:fltrs, :status) || "")), {prompt: "Select", class: "selectize"} %>
      </div>
      <div class="form-group">
        <%= label_tag "fltrs", "project tower", class: "control-label" %>
        <%= select_tag "fltrs[project_tower_id]", options_for_select(filter_project_tower_options), { class: "selectize-remote", data: { url: admin_project_towers_path }} %>
      </div>
      <div class="form-group">
        <%= label_tag "fltrs", "user", class: "control-label" %>
        <%= select_tag "fltrs[user_id]", options_for_select(filter_user_options), { class: "selectize-remote", data: { url: admin_users_path, params: { fltrs: { role: ::User::BUYER_ROLES }} }} %>
      </div>
      <div class="form-group">
        <%= label_tag "fltrs", "manager", class: "control-label" %>
        <%= select_tag "fltrs[manager_id]", options_for_select(filter_manager_options), { class: "selectize-remote", data: { url: admin_users_path, params: { fltrs: { role_nin: ::User::BUYER_ROLES }} }} %>
      </div>
    <% end %>
  </div>
</div>
<%= javascript_tag do %>
  $(document).ready(function(){
    FormInitializer.init($("#scheme_search_form"));
  });
<% end %>
