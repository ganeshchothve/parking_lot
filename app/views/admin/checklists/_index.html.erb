<% labels = t('mongoid.attributes.checklist').with_indifferent_access %>

<section class="mt-0">
  <div class="px-0">
    <div class="row g-0">
      <div class="col-lg-12 p-0 mt-3 table-responsive">
        <table class="table table-responsive table-color align-middle">
          <thead>
            <tr>
              <th><%= labels['name'] %></th>
              <th><%= labels['key'] %></th>
              <th><%= labels['tracked_by'] %></th>
              <th><%= labels['order'] %></th>
              <th class="btn-action"><%= t('global.action.one') %></th>
            </tr>
          </thead>
          <tbody>
            <% checklists.each do |checklist| %>
            <tr>
              <td>
                <%= checklist.name %>
              </td>
              <td>
                <%= checklist.key %>
              </td>
              <td>
                <%= checklist.tracked_by.try(:titleize) %>
              </td>
              <td>
                <%= checklist.order %>
              </td>
              
              <td>
                <div class="dropdown">
                  <a href="javascript:void(0);" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                    <i class="fa fa-ellipsis-v primary" aria-hidden="true"></i></a>
                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                    <% if policy([:admin, checklist]).edit? %>
                    <%= link_to I18n.t("global.edit"), edit_admin_checklist_path(checklist), class: 'dropdown-item modal-remote-form-link' %>
                    <% end %>
                  </div>
                </div>
              </td>

            </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      <!----------- Pagination ---------->
      <% if checklists.is_a? WillPaginate::Collection %>
      <div class="col-lg-12 py-3 bg-white mb-2 px-3 mt-3 shadow-sm">
        <div class="row">
          <div class="col-lg-6 pt-2">
            <p class="table-entry mb-0"><%= page_entries_info checklists %></p>
          </div>
          <div class="col-lg-6 table-pagination">
            <%= will_paginate checklists, list_classes: %w(pagination justify-content-end) %>
          </div>
        </div>
      </div>
      <% end %>
    </div>
  </div>
</section>