<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :name, class: 'label-required' %>
      <%= f.text_field :name, class: 'form-control', autofocus: true, required: 'required', disabled: !policy([:admin, project]).editable_field?("name") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :developer_id, class: 'label-required' %>
      <%= f.select :developer_id, Developer.all.collect{|x| [x.name, x.id]}.sort{|x, y| x[0] <=> y[0]}, {prompt: 'Select'}, class: "selectize", required: true, disabled: (policy([current_user_role_group, project]).editable_field?("developer_id") ? false : true) %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :project_type, class: 'label-required' %>
      <%= f.select :project_type, Project::PROJECT_TYPES.collect{|x| [x.titleize, x]}.sort{|x, y| x[0] <=> y[0]}, {prompt: 'Select'}, class: "selectize", required: true, disabled: (policy([current_user_role_group, project]).editable_field?("project_type") ? false : true) %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :category, class: 'label-required' %>
      <%= f.select :category, Project::CATEGORIES.collect{|x| [x.titleize, x]}.sort{|x, y| x[0] <=> y[0]}, {prompt: 'Select'}, class: "selectize", required: true, disabled: (policy([current_user_role_group, project]).editable_field?("category") ? false : true) %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :project_segment, class: 'label-required' %>
      <%= f.select :project_segment, Project::SEGMENTS.collect{|x| [x.titleize, x]}.sort{|x, y| x[0] <=> y[0]}, {prompt: 'Select'}, class: "selectize", required: true, disabled: (policy([current_user_role_group, project]).editable_field?("project_segment") ? false : true) %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :micro_market, class: 'label-required' %>
      <%= f.text_field :micro_market, class: 'form-control', required: true, disabled: !policy([:admin, project]).editable_field?("micro_market") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :city, class: 'label-required' %>
      <%= f.text_field :city, class: 'form-control', required: true, disabled: !policy([:admin, project]).editable_field?("city") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :possession, class: 'label-required' %>
      <%= f.text_field :possession, class: 'form-control datepicker', required: true, disabled: !policy([:admin, project]).editable_field?("possession"), value: f.object.possession.present? ? f.object.possession.strftime("%d/%m/%Y") : nil %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :launched_on, class: '' %>
      <%= f.text_field :launched_on, class: 'form-control datepicker', disabled: !policy([:admin, project]).editable_field?("launched_on"), "data-max-date": (f.object.launched_on.present? && f.object.launched_on < Date.today) ? f.object.launched_on.strftime("%d/%m/%Y") : Date.today.strftime("%d/%m/%Y"), value: f.object.launched_on.present? ? f.object.launched_on.strftime("%d/%m/%Y") : nil %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :registration_name, class: 'label-required' %>
      <%= f.text_field :registration_name, class: 'form-control', required: true, disabled: !policy([:admin, project]).editable_field?("registration_name") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :rera_registration_no, class: 'label-required' %>
      <%= f.text_field :rera_registration_no, class: 'form-control', required: 'required', disabled: !policy([:admin, project]).editable_field?("rera_registration_no") %>
    </div>
  </div>
  <div class="col-md-6">
    <% if policy([:admin, project]).editable_field?("is_active") %>
    <div class="form-group">
      <%= f.label :is_active, class: 'mb-2' %>
      <div class="form-check form-check-inline">
        <%= f.radio_button :is_active, true, class: "form-check-input" %>
        <%= f.label :is_active, "Yes", class: "form-check-label" %>
      </div>
      <div class="form-check form-check-inline">
        <%= f.radio_button :is_active, false, class: "form-check-input" %>
        <%= f.label :is_active, "No", class: "form-check-label" %>
      </div>
    </div>
    <% end %>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :website_link, class: 'label-required' %>
      <%= f.url_field :website_link, required: true, class: 'form-control', disabled: !policy([:admin, project]).editable_field?("website_link") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :configurations, class: 'label-required' %>
      <%= f.select :configurations, Project::DEFAULT_CONFIGURATIONS.collect{|x| [x, x]}.sort{|x, y| x[0] <=> y[0]}, {}, class: 'selectize-tags', multiple: true, disabled: !policy([:admin, project]).editable_field?("configurations"), required: true %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :project_size, class: 'label-required' %>
      <%= f.number_field :project_size, class: 'form-control', required: true, disabled: !policy([:admin, project]).editable_field?("project_size") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :total_buildings, class: 'label-required' %>
      <%= f.number_field :total_buildings, required: true, class: 'form-control', disabled: !policy([:admin, project]).editable_field?("total_buildings"), min: 1 %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :total_units, class: 'label-required' %>
      <%= f.number_field :total_units, class: 'form-control', required: true, disabled: !policy([:admin, project]).editable_field?("total_units"), min: 1 %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :amenities, class: 'label-required' %>
      <%= f.select :amenities, Project::DEFAULT_AMENITIES.collect{|x| [x.titleize, x]}.sort{|x, y| x[0] <=> y[0]}, {}, required: true, class: 'selectize-tags', multiple: true, disabled: !policy([:admin, project]).editable_field?("amenities") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :approved_banks, class: 'label-required' %>
      <%= f.select :approved_banks, Project::ALLOWED_BANKS.collect{|x| [x.titleize, x]}.sort{|x, y| x[0] <=> y[0]}, {prompt: 'Select'}, class: "selectize", multiple: true, required: true, disabled: (policy([current_user_role_group, project]).editable_field?("approved_banks") ? false : true) %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :email_domains, class: '' %>
      <%= f.select :email_domains, project.email_domains, {}, class: 'selectize-tags domain', multiple: true, disabled: !policy([:admin, project]).editable_field?("email_domains") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :gst_number, class: '' %>
      <%= f.text_field :gst_number, class: 'form-control', disabled: !policy([:admin, project]).editable_field?("gst_number") %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :cin_number, class: '' %>
      <%= f.text_field :cin_number, class: 'form-control', disabled: !policy([:admin, project]).editable_field?("cin_number") %>
    </div>
  </div>
</div>
<div class="card">
  <div class="card-header">
    Address
  </div>
  <div class="card-body">
    <%
      address = f.object.address
      if (address.blank? || (address.present? && (address.as_json(only: [:address1, :city, :state, :country, :zip]).values.all?(&:blank?))))
        f.object.build_address
      end
    %>
    <%= f.fields_for :address do |address_form| %>
      <%= render "addresses/form_fields", f: address_form %>
    <% end %>
  </div>
</div>
