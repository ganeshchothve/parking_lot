<div class="row ">

  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :area_unit, class: '' %>
      <%= f.text_field :area_unit, class: 'form-control', disabled: (policy([:admin, @project]).editable_field?("area_unit") ? false : true) %>
    </div>
  </div>

  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :cancellation_amount, class: '' %>
      <%= f.text_field :cancellation_amount, class: 'form-control', disabled: (policy([:admin, @project]).editable_field?("cancellation_amount") ? false : true) %>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="form-group mb-3">
      <div class="form-check form-check-inline">
        <%= f.check_box :enable_inventory, {:class => "form-check-input wd-22", :disabled => !policy([:admin, @project]).editable_field?("enable_inventory") }, "Yes", "No" %>
        <%= f.label :enable_inventory, class: "form-check-label d-inline-block ms-2 enable-inventory-check" %>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group mb-3">
      <div class="form-check form-check-inline">
        <%= f.check_box :enable_booking_with_kyc, {:class => "form-check-input wd-22", :disabled => !policy([:admin, @project]).editable_field?("enable_booking_with_kyc") }, "Yes", "No" %>
        <%= f.label :enable_booking_with_kyc, class: "form-check-label d-inline-block ms-2 enable-booking-with-kyc" %>
      </div>
    </div>
  </div>
</div>
<div class="row inventory-role-fields <%= f.object.enable_inventory  ?   '' :  'd-none'  %>">
  <div class="col-md-12">
    <div class="mb-3">
      <%= f.label :enable_actual_inventory %>
      <%= f.select :enable_actual_inventory, User.available_roles(@project.booking_portal_client).collect{|x| [ User.human_attribute_name("role.#{x}"), x]}, {}, class: 'selectize', multiple: true, disabled: !policy([:admin, f.object]).editable_field?("enable_actual_inventory") %>
      <!-- TODO: throwing error on resolving conflict  -->
    </div>
  </div>
</div>
<div class="row inventory-role-fields <%= f.object.enable_inventory  ?   '' :  'd-none'  %>">
  <div class="col-md-12">
    <div class="mb-3">
      <%= f.label :enable_live_inventory %>
      <%= f.select :enable_live_inventory, User.available_roles(@project.booking_portal_client).collect{|x| [ User.human_attribute_name("role.#{x}"), x]}, {}, class: 'selectize', multiple: true, disabled: !policy([:admin, f.object]).editable_field?("enable_live_inventory") %>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :blocking_days, class: 'label-required' %>
      <%= f.number_field :blocking_days, class: 'form-control', required: 'required', disabled: (policy([:admin, @project]).editable_field?("blocking_days") ? false : true), min: 0, max: 30 %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :holding_minutes, class: 'label-required' %>
      <%= f.text_field :holding_minutes, class: 'form-control', required: 'required', disabled: (policy([:admin, @project]).editable_field?("holding_minutes") ? false : true), min: 0, max: 30 %>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :allowed_bookings_per_user, class: 'label-required' %>
      <%= f.number_field :allowed_bookings_per_user, class: 'form-control', required: 'required', disabled: (policy([:admin, @project]).editable_field?("allowed_bookings_per_user") ? false : true), min: 0 %>
    </div>
  </div>
  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :blocking_amount, class: 'label-required' %>
      <%= f.number_field :blocking_amount, class: 'form-control', required: 'required', disabled: (policy([:admin, @project]).editable_field?("blocking_amount") ? false : true), min: 0 %>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <div class="form-check form-check-inline">
        <%= f.check_box :enable_slot_generation, {:class => "form-check-input wd-22", :disabled => !policy([:admin, @project]).editable_field?("enable_slot_generation") }, "Yes", "No" %>
        <%= f.label :enable_slot_generation, class: "form-check-label d-inline-block ms-2" %>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :booking_sources, class: 'label-required' %>
      <%= f.select :booking_sources, f.object.booking_sources, {},  class: "selectize-tags", multiple: true, required: true, disabled: (policy([current_user_role_group, project]).editable_field?("booking_sources") ? false : true) %>
    </div>
  </div>
</div>
<div class='row'>
  <div class="col-md-6">
    <div class="mb-3">
      <%= f.label :incentive_calculation, class: 'label-required' %>
      <%= f.select :incentive_calculation, Client::INCENTIVE_CALCULATION.collect{|x| [x,x]}, {}, class: 'selectize', multiple: true, required: 'required', disabled: !policy([:admin, project]).editable_field?("incentive_calculation") %>
    </div>
  </div>
</div>
<%= javascript_tag do %>
  $(document).ready(function(){
    $('#project_enable_inventory').change(function(){
      if($(this).is(":checked")){
        $('.inventory-role-fields').removeClass('d-none');
      }else{
        $('.inventory-role-fields').addClass('d-none');
      }
    });
  });
<% end %>
