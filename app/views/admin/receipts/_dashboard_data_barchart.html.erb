<div class="container mb-5">
  <div class="row justify-content-center">
    <div class="col-md-12">
      <%#= render 'breadcrumbs', {user_kyc: @user_kyc, user: @user} %>
      <div class="card">
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-5 text-md-right">
              <button class="db-filter-btn white fn-500 float-right" type="button">
                <i class="icon-set icon-filter-light-blue"></i>
              </button>
            </div>
          </div>
          <div class="filter-box">
            <%= render "chart_filter" %>
          </div>
          <canvas id="barChart1" height="300" class="pl-3 pr-3"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
<%= javascript_tag do %>
  var canvas = document.getElementById("barChart1");
  var ctx = canvas.getContext('2d');

  // Global Options:
   Chart.defaults.global.defaultFontColor = 'dodgerblue';
   Chart.defaults.global.defaultFontSize = 10;

  // Data with datasets options
  var data = {
      labels: <%= Receipt::PAYMENT_MODES.to_json.html_safe %>,
      datasets: <%= @dataset.to_json.html_safe %>
  };

  var options = {
          title: {
            display: true,
            text: 'Payments'
          },
          tooltips: {
            mode: 'index',
            intersect: true
          },
          responsive: true,
          scales: {
            xAxes: [{
              stacked: true,
            }],
            yAxes: [{
              stacked: true
            }]
          }
        };
  // Chart declaration:
  var myBarChart = new Chart(ctx, {
      type: 'bar',
      data: data,
      options: options
  });
  $('.db-filter-btn').click(function(){
    $('.filter-box').slideToggle('slow');
  });
  $('.f-cancel-btn, .close-filter-btn').click(function(){
    $('.filter-box').slideToggle('slow');
  });
<% end %>