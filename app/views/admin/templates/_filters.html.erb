<div class="filter-inner modal-content ps-2 pe-2 fixed-header-footer">
  <div class="modal-header filter-header">
  <h5 class="modal-title title">Filter</h5>
  <a href="javascript:;" class="close-filter-btn btn-close"></a>
  </div>
  <%= form_tag admin_client_templates_path, method: "get", id: "user_search_form" do %>
    <div class="filter-content modal-body ps-0 pe-0">
      <div class="row">
        <% [::Template::EmailTemplate, ::Template::SmsTemplate, ::Template::CostSheetTemplate, ::Template::CostSheetTemplate, ::Template::AllotmentLetterTemplate, ::Template::PaymentScheduleTemplate, ::Template::ReceiptTemplate, ::Template::BookingDetailFormTemplate] if Rails.env.development? %>
        <div class="mb-3 col-lg-12 col-xs-12 col-md-12 col-sm-12">
          <%= label_tag "fltrs", t('mongoid.attributes.template.name'), class: "control-label" %>
          <%= select_tag "fltrs[name]", options_for_select(::Template.distinct(:name).collect{|x| [(t("templates.#{x}") rescue x.try(:titleize)), x]}, (params[:fltrs].present? ? params[:fltrs][:name] : "")), {prompt: "Select", class: "selectize"} %>
        </div>
      </div>
      <div class='row'>
        <div class="mb-3 col-lg-6 col-xs-12 col-md-6 col-sm-12">
          <%= label_tag "fltrs", t('mongoid.attributes.template.type'), class: "control-label" %>
          <%= select_tag "fltrs[_type]", options_for_select(::Template.descendants.collect{|x| [x.to_s.split("::").last.gsub("Template", "").titleize, x.to_s]}.sort, (params[:fltrs].present? ? params[:fltrs][:_type] : "")), {prompt: "Select", class: "selectize"} %>
        </div>
        <div class="mb-3 col-lg-6 col-xs-12 col-md-6 col-sm-12">
          <%= label_tag "fltrs", t('mongoid.attributes.template.project_id'), class: "control-label" %>
          <%= select_tag "fltrs[project_id]", options_for_select(Project.all.collect{|x| [x.name, x.id]}.sort{|x, y| x[0] <=> y[0]}, (params[:fltrs].present? ? params[:fltrs][:project_id] : "")), {prompt: "Select", class: "selectize"} %>
        </div>
      </div>
    </div>
    <div class="filter-footer modal-footer text-end">
      <%= submit_tag :Apply, class: "f-save-btn btn btn-primary fn-500 float-end" %>
      <button type="button" class="f-cancel-btn btn btn-secondary fn-500 float-end">Cancel</button>
    </div>
  <% end %>
</div>
<%= javascript_tag do %>
  $(document).ready(function(){
    FormInitializer.init($("#user_search_form"));
  });
<% end %>
