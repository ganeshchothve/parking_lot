<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3 no-pd">
  <div class="box-card relative table-responsive">
    <table class="table my-customer-table responsive-tbl mb-0">
      <thead class="th-default">
        <tr class="bg-gradient-cd white">
          <th><%= Project.model_name.human %></th>
          <th>No. of Walk ins</th>
          <th>No. of Bookings</th>
          <th>Total Agreement Value</th>
        </tr>
      </thead>
      <tbody>
        <% Project.each do |p| %>
          <tr>
            <td data-title='<%= Project.model_name.human %>'><%= p.name.titleize %></td>
            <td data-title='Walk ins'><%= @walkins[p.id].try(:count) || 0 %></td>
            <td data-title='Bookings'><%= @bookings[p.id].try(:count) || 0 %></td>
            <td data-title='Agreement Value'><%= @bookings[p.id].try(:pluck, :agreement_price).try(:sum) || 0 %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
