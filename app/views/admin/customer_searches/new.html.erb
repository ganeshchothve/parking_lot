<%= render 'admin/customer_searches/render_tabs' %>
<div class="row justify-content-center">
  <div class="col-md-11">
    <div class="card h-100">
      <% if params[:queue_number_notice].present? %>
        <div class = 'alert alert-success'>
          <%= params[:queue_number_notice] %>
        </div>
      <% end %>
      <div class = 'card-header'>Customer Search</div>
      <div class="card-body">
        <%= form_for @customer_search, url: admin_customer_searches_url, html: {class: 'validate-form', id: "search_form"} do |f| %>
        <div class = 'row'>
          <div class = 'col-sm-4'>
            <%= label_tag "lead_id", "Sell.Do Lead ID", class: "control-label" %>
            <%= number_field_tag "lead_id", (params.present? ? params[:lead_id] : ""), class: "form-control" %>
          </div>
          <div class ='col-sm-4'>
            <%= label_tag "token_number", "Token Number", class: "control-label" %>
            <%= text_field_tag "token_number", (params[:fltrs].present? ? params[:fltrs][:token_number] : ""), class: "form-control" %>
          </div>
          <div class = 'col-sm-4'>
            <%= label_tag "_id", "Name / Email / Phone", class: "control-label" %>
            <%= select_tag "_id", (params.present? ? params[:_id] : []), {class: "selectize-remote", data: {url: admin_leads_path, params:{fltrs: {project_id: current_user.selected_project_id}, page: 1} }} %>
          </div>
        </div>
          <div class="form-group pt-2">
            <%= f.submit "Search", class: "btn btn-primary float-right" %>
            <%= link_to "Add New Customer", admin_customer_searches_url(new: true), method: :post, class: "btn btn-primary float-left" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<%= javascript_tag do %>
  $(document).ready(function(){
    FormInitializer.init($("#search_form"));
    setTimeout(removeAlert, 30000);
  });

  function removeAlert(){
    document.querySelector(".alert").classList.add("d-none")
  }
<% end %>
