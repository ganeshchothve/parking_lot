<div class="filter-inner">
  <div class="filter-header">
    <span class="title">Filter</span>
    <a href="javascript:;" class="close-filter-btn">&times;</a>
  </div>
  <%= form_tag admin_incentive_schemes_path, method: "get", id: "incentive_scheme_search_form" do %>
    <div class="filter-content">
      <div class="row">
        <div class="form-group col-lg-6 col-xs-12 col-md-6 col-sm-12">
          <%= label_tag "fltrs", IncentiveScheme.model_name.human, class: "control-label" %>
          <%= text_field_tag "fltrs[name]", params.dig(:fltrs, :name), class: 'form-control' %>
        </div>
        <div class="form-group col-lg-6 col-xs-12 col-md-6 col-sm-12">
          <%= label_tag "fltrs", t('mongoid.attributes.incentive_scheme.status'), class: "control-label" %>
          <%= select_tag "fltrs[status]", options_for_select(IncentiveScheme.aasm.states.collect(&:name).collect{|x| [x.to_s.titleize, x.to_s]}, (params[:fltrs].present? ? params[:fltrs][:status] : "")), {prompt: "Select", class: "selectize"} %>
        </div>
        <div class="form-group col-lg-6 col-xs-12 col-md-6 col-sm-12">
          <%= label_tag "fltrs", t('mongoid.attributes.incentive_scheme.ladder_strategy'), class: "control-label" %>
          <%= select_tag "fltrs[ladder_strategy]", options_for_select(IncentiveScheme::STRATEGY.map{|strategy| [strategy.titleize, strategy] }, params.dig(:fltrs, :ladder_strategy)), {prompt: "Select", class: "selectize"} %>
        </div>
        <div class="form-group col-lg-6 col-xs-12 col-md-6 col-sm-12">
        <%= label_tag "fltrs[project_id]", t('mongoid.attributes.project_unit.project_id'), class: "control-label" %>
        <%= select_tag "fltrs[project_id]", options_for_select(Project.all.collect{|x| [x.name, x.id]}.sort{|x, y| x[0] <=> y[0]}, (params[:fltrs].present? ? params[:fltrs][:project_id] : "")), {class: "selectize project_select"} %>
      </div>
        <div class="form-group col-lg-6 col-xs-12 col-md-6 col-sm-12">
          <%= label_tag "fltrs", ProjectTower.model_name.human, class: "control-label" %>
          <%= select_tag "fltrs[project_tower_id]", options_for_select(ProjectTower.all.map{|f| [f.name, f.id]}, (params[:fltrs].present? ? params[:fltrs][:project_tower_id] : "")), {prompt: "Select", class: "selectize project_tower_select", data: { url: admin_project_towers_path }} %>
        </div>
        <div class="form-group col-lg-6 col-xs-12 col-md-6 col-sm-12">
          <%= label_tag "fltrs", t('mongoid.attributes.incentive_scheme.tier_id'), class: "control-label" %>
          <%= select_tag "fltrs[tier_id]", options_for_select(Tier.all.map{|tier| [tier.name, tier.id] }, params.dig(:fltrs, :tier_id)), {prompt: "Select", class: "selectize"} %>
        </div>
      </div>
    </div>
    <div class="filter-footer">
      <%= submit_tag :Apply, class: "f-save-btn db-small-btn white bg-light-blue fn-500 float-right" %>
      <button type="button" class="f-cancel-btn db-small-btn light-blue bg-white fn-500 float-right">Cancel</button>
    </div>
  <% end %>
</div>
<%= javascript_tag do %>
  $(document).ready(function(){
    FormInitializer.init($("#incentive_scheme_search_form"));
  });
<% end %>
