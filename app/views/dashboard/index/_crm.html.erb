<div class="container mb-5">
  <div class="row">
    <div class="col-2">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">Customers</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <%= DashboardData::AdminDataProvider.customer_count %>
        </div>
      </div>
    </div>
    <div class="col-2">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">Channel Partner</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <%= DashboardData::AdminDataProvider.channel_partner_count %>
        </div>
      </div>
    </div>
    <div class="col-2">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">Units</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <%= DashboardData::AdminDataProvider.sold_project_units_count %> sold /<%= DashboardData::AdminDataProvider.all_project_units_count %>
        </div>
      </div>
    </div>
    <div class="col-2">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">User Requests</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <%= DashboardData::AdminDataProvider.open_user_requests %>
        </div>
      </div>
    </div>
    <div class="col-2">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">Payments</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <%= DashboardData::AdminDataProvider.online_receipts %> online/<%= DashboardData::AdminDataProvider.offline_receipts %> offline
        </div>
      </div>
    </div>
    <div class="col-2">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">-</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          Empty for now
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container mb-5 pb-5">
  <div class="row mb-3">
    <div class="col-6">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <div class = "row">
            <div class = "col-6">
              <h4 class="white pre text-center float-left">Payments</h4>
            </div>
            <div class = "col-lg-6 col-xs-12 col-md-6 col-sm-12 pb-3">
              <div class="table-btn-set float-right pb-3">
                <button class="db-filter-btn white fn-500 float-right payment_mode_chart_filter" type="button">
                  <i class="icon-set icon-filter-light-blue"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <div id = "receipt_barchart" class = "charts">
            <p> Loading .. </p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <div class = "row">
            <div class = "col-6">
              <h4 class="white pre text-center float-left">Payment Frequency</h4>
            </div>
            <div class = "col-lg-6 col-xs-12 col-md-6 col-sm-12 pb-3">
              <div class="table-btn-set float-right pb-3">
                <button class="db-filter-btn white fn-500 float-right frequency_chart_filter" type="button">
                  <i class="icon-set icon-filter-light-blue"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <div id = "receipt_linechart" class = "charts">
            <p> Loading .. </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-6">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">Units</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <div id="project_unit_barchart" >
            <p> Loading .. </p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <div class = "row">
            <div class = "col-6">
              <h4 class="white pre text-center float-left">Bookings</h4>
            </div>
            <div class = "col-lg-6 col-xs-12 col-md-6 col-sm-12 pb-3">
              <div class="table-btn-set float-right pb-3">
                <button class="db-filter-btn white fn-500 float-right status_chart_filter" type="button">
                  <i class="icon-set icon-filter-light-blue"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <div id="booking_detail_barchart" class = "charts">
            <p> Loading .. </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-6">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">Payments</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <div id = "receipt_piechart">
            <p> Loading .. </p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="box-card">
        <div class="box-header bg-gradient-cd br-rd-tr-4">
          <h4 class="white pre text-center">Users</h4>
        </div>
        <div class="box-content br-rd-bl-4 bg-white py-3 text-center">
          <div id = "user_dashboard_barchart">
            <p> Loading .. </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%= javascript_tag do %>
  $(document).ready(function(){
    $.ajax({
      url: "<%= payment_mode_chart_admin_receipts_path %>",
      type: "get",
    });
    $.ajax({
      url: "<%= status_chart_admin_receipts_path %>",
      type: "get",
    });
    $.ajax({
      url: "<%= frequency_chart_admin_receipts_path %>",
      type: "get",
    });
    $.ajax({
      url: "<%= unit_configuration_chart_admin_project_units_path %>",
      type: "get",
    });
    $.ajax({
      url: "<%= status_chart_admin_booking_details_path %>",
      type: "get",
    });
    $.ajax({
      url: "<%= portal_stage_chart_admin_users_path %>",
      type: "get",
    });
    $('.db-filter-btn').click(function(e){
      e.preventDefault();
    });
  });
<% end %>