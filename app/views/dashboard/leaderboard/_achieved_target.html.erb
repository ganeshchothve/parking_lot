
<%
  achieved_capped_incentive_percentage = (((@achieved_capped_incentive.first[:total_capped_incentive].to_f / @max_capped_incentive) * 100) rescue 0.0)
%>
<h2 class="text-center"><%= I18n.t("controller.dashboard.leaderboard.text.claimed_incentives") %></h2>
<div class="target-box pt-3">
  <div class="col-12 target-no">
    <!-- <h3 class="target-start"><%#=  number_to_inr(0, {precision: 2, significant: false}) %></h3> -->
    <h3 class="target-end"><%= number_to_inr((@max_capped_incentive rescue "-"), {precision: 2, significant: false}) %></h3>
  </div>
  <div class="achieved-target col-12">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="26" viewBox="0 0 1015 26">
      <defs>
        <linearGradient id="linear-gradient34" y1="0.5" x2="1" y2="1" gradientUnits="objectBoundingBox">
          <stop offset="0" stop-color="#fae661"/>
          <stop offset="1" stop-color="#fef4ce"/>
        </linearGradient>
        <filter id="Rectangle_3440">
          <feOffset dy="2" input="SourceAlpha"/>
          <feGaussianBlur stdDeviation="2" result="blur"/>
          <feFlood flood-opacity="0.282" result="color"/>
          <feComposite operator="out" in="SourceGraphic" in2="blur"/>
          <feComposite operator="in" in="color"/>
          <feComposite operator="in" in2="SourceGraphic"/>
        </filter>
      </defs>
      <g id="Group_6629" data-name="Group 6629" transform="translate(-184 -2508)">
        <rect id="Rectangle_3924" data-name="Rectangle 3924" width="1015" height="26" rx="12" transform="translate(184 2508)" fill="#fff"/>
        <g data-type="innerShadowGroup">
          <rect id="Rectangle_3440-2" data-name="Rectangle 3440" width="1001" height="14" rx="7" transform="translate(191 2514)" fill="url(#linear-gradient34)"/>
          <g transform="matrix(1, 0, 0, 1, 184, 2508)" filter="url(#Rectangle_3440)">
            <rect id="Rectangle_3440-3" data-name="Rectangle 3440" width="1001" height="14" rx="7" transform="translate(7 6)" fill="#fff"/>
          </g>
        </g>
      </g>
    </svg>   
    <style>
      .rct-pwr-icon{
        left:calc(<%= achieved_capped_incentive_percentage %>% - 174px);
      }
      .target-value-no{
        left:calc(<%= achieved_capped_incentive_percentage %>% + 40px)!important;
      }
      @media screen and (max-width: 700px){
        .rct-pwr-icon{
        left:calc(<%= achieved_capped_incentive_percentage %>% - 56px);
      }
      .target-value-no{
        left:calc(<%= achieved_capped_incentive_percentage %>% + 15px)!important;
      }
      }
    </style>
    <img src="<%= asset_path 'leaderboard/rocket.png' %>" class="rocket-img" style="left:<%= achieved_capped_incentive_percentage.round(2) %>%">
    <img src="<%= asset_path 'leaderboard/rocket-power.svg' %>" class="rocket-power-img rct-pwr-icon">
    <p class="target-value target-value-no"><%= number_to_inr((@achieved_capped_incentive.first[:total_capped_incentive] rescue "-"), {precision: 2, significant: false}) %></p>
  </div>
</div>

