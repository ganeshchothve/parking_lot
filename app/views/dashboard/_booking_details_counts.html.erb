<!-- TO-DO - Add sourcing manager directory and move this there in dashboard views -->
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3 mb-5">
  <div class="box-card relative table-responsive">
    <table class="table my-customer-table responsive-tbl caption-top rounded mt-3 mb-0">
      <thead class="th-default">
        <tr class="bg-primary white">
          <th><%= Project.model_name.human %></th>
          <th>Blocked</th>
          <th>Under Negotiation</th>
          <th>Tentative Booked</th>
          <th>Confirmed Booked</th>
          <th>Cancelled</th>
        </tr>
      </thead>
      <tbody>
        <% @booking_details_data.each do |p| %>
          <tr>
            <td data-title='<%= Project.model_name.human %>'><%= Project.where(_id: p[:project_id]).first.try(:name).try(:titleize) || "-" %></td>
            <td data-title='Blocked'><%= p[:blocked] %></td>
            <td data-title='Under Negotiation'><%= p[:under_negotiation] %></td>
            <td data-title='Tentative Booked'><%= p[:booked_tentative] %></td>
            <td data-title='Confirmed Booked'><%= p[:booked_confirmed] %></td>
            <td data-title='Cancelled'><%= p[:cancelled] %></td>
          </tr>
        <% end %>
        <tr>
          <th data-title="<%= t('global.total') %>"><%= t('global.total') %></th>
          <td data-title='Total Blocked'><%= @booking_details_data.map{|d| d[:blocked] }.sum %></td>
          <td data-title='Total Under Negotiation'><%= @booking_details_data.map{|d| d[:under_negotiation] }.sum %></td>
          <td data-title='Total Tentative Booked'><%= @booking_details_data.map{|d| d[:booked_tentative] }.sum %></td>
          <td data-title='Total Blocked'><%= @booking_details_data.map{|d| d[:booked_confirmed] }.sum %></td>
          <td data-title='Total Blocked'><%= @booking_details_data.map{|d| d[:cancelled] }.sum %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
