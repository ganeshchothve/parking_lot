<div class="row">
  <div class="col-md-2">
    <%= form.input :title, collection: UserKyc.available_salutations.collect{|x| [x[:text], x[:id]]}, as: :select, prompt: :translate %>
  </div>

  <div class="col-md-5">
    <%= form.input :first_name, required: true, autofocus: true, disabled: !policy([:admin, @channel_partner]).editable_field?("first_name") %>
  </div>

  <div class="col-md-5">
    <%= form.input :last_name, required: true, autofocus: true, disabled: !policy([:admin, @channel_partner]).editable_field?("last_name") %>
  </div>

</div>

<div class="row">
  <div class="col-md-6">
    <%= form.input :phone, required: true, disabled: !policy([:admin, @channel_partner]).editable_field?("phone"), as: :tel, input_html: { class: 'phone' } %>
  </div>

  <div class="col-md-6">
    <%= form.input :email, required: true, disabled: !policy([:admin, @channel_partner]).editable_field?("email"), input_html: { class: 'email'} %>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <%= form.input :aadhaar, required: true, disabled: !policy([:admin, @channel_partner]).editable_field?("aadhaar") %>
  </div>

  <div class="col-md-6">
    <%= form.input :pan_number, required: true, disabled: !policy([:admin, @channel_partner]).editable_field?("pan_number") %>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <%= form.input :rera_id, required: true, disabled: !policy([:admin, @channel_partner]).editable_field?("rera_id") %>
  </div>

  <div class="col-md-6">
    <%= form.input :company_name, disabled: !policy([:admin, @channel_partner]).editable_field?("company_name") %>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <%= form.input :manager_id, collection: User.in(role: "cp").collect{|x| [x.name, x.id]}, disabled: !policy([:admin, @channel_partner]).editable_field?("manager_id"), as: :select, prompt: :translate %>
  </div>
  <div class="col-md-6">
    <%= form.input :gstin_number, disabled: !policy([:admin, @channel_partner]).editable_field?("gstin_number") %>
  </div>
</div>

<% if policy([:admin, @channel_partner]).editable_field?("status") %>
  <div class="row">
    <div class="col-md-6">
      <%= form.input :status, collection: ChannelPartner::STATUS.collect{|status| [ ChannelPartner.human_attribute_name("status.#{status}"), status ] }, required: true, disabled: !policy([:admin, @channel_partner]).editable_field?("status"), prompt: :translate %>
    </div>
  </div>
<% end %>

<% if policy([:admin, @channel_partner]).editable_field?("bank_detail_attributes") %>
  <div class="box-card mt-3">
    <div class="box-header bg-gradient br-rd-tr-4">
      <h2><strong>Bank Details</strong></h2>
    </div>
    <div class="box-content br-rd-bl-4 bg-white p-0 pt-1">
      <div class="form-group">
        <% form.object.build_bank_detail if form.object.bank_detail.blank? %>
        <%= form.fields_for :bank_detail do |bank_detail_form| %>
          <%= render "bank_details/form_fields", f: bank_detail_form %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>

<% if policy([:admin, @channel_partner]).editable_field?("address_attributes") %>
  <div class="box-card mt-3">
    <div class="box-header bg-gradient br-rd-tr-4">
      <h2><strong>Address</strong></h2>
    </div>
    <div class="box-content br-rd-bl-4 bg-white p-0 pt-1">
      <div class="form-group">
        <% form.object.build_address if form.object.address.blank? %>
        <%= form.fields_for :address do |address_form| %>
          <%= render "addresses/form_fields", f: address_form %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
